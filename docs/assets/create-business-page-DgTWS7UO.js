import{d as B,r as t,C as d,a as _,e as k,b as l,w as i,F as N,u as S,g as n,D as m,E as p,n as c,i as f,j as v,B as V,s as C,p as D}from"./index-Dn42bpGA.js";import{S as E}from"./Section-B-WOYrKF.js";import{_ as x}from"./Separator.vue_vue_type_script_setup_true_lang-BwRguTY8.js";import{B as F}from"./BusinessService-BG9-plmJ.js";import"./fetchClient-DCrkY20S.js";const L=B({__name:"create-business-page",setup(M){const g=S(),r=t(""),a=t(""),o=t(!1),u=t(!1),b=async y=>{!r.value.length||!a.value.length||u.value||(o.value=!0,u.value=!0,await F.create({name:r.value,blocking:!1,owner:107324410}).then(e=>{if("detail"in e)return console.log("[error]",e.detail);g.push({name:"ProfileBusinessPage"})}))},h=d(()=>o.value&&r.value.length===0),w=d(()=>o.value&&a.value.length===0);return(y,e)=>(_(),k(N,null,[l(x),l(E,{class:"rounded-b-3xl"},{default:i(()=>[n("form",{onSubmit:D(b,["prevent"]),class:"flex flex-col gap-6"},[m(n("input",{class:c(f(v)("w-full h-[40px] px-6 rounded-xl border border-gray-dark placeholder:border-gray-dark text-[1.6rem] outline-none",{"border-red-500":h.value})),placeholder:"Название бизнеса","onUpdate:modelValue":e[0]||(e[0]=s=>r.value=s)},null,2),[[p,r.value]]),m(n("textarea",{class:c(f(v)("w-full px-6 py-5 rounded-xl border border-gray-dark placeholder:border-gray-dark text-[1.6rem] outline-none",{"border-red-500":w.value})),rows:"6",placeholder:"Описание","onUpdate:modelValue":e[1]||(e[1]=s=>a.value=s)},null,2),[[p,a.value]]),l(V,{className:"bg-primary hover:bg-primary-hover rounded-xl text-[1.4rem] text-white"},{default:i(()=>e[2]||(e[2]=[C("Создать бизнес")])),_:1})],32)]),_:1}),l(x)],64))}});export{L as default};
