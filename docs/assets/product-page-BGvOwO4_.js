import{_ as $,a as j}from"./Separator.vue_vue_type_script_setup_true_lang-D9FUPj2T.js";import{_ as b}from"./AspectRatio.vue_vue_type_script_setup_true_lang-Dyv6AJaF.js";import{d as B,r as c,o as C,a as d,e as u,b as a,w as r,F as g,u as z,f as N,g as s,h as S,n as D,i as I,j as L,t as _}from"./index-C9wEcOTM.js";import{S as x,_ as R}from"./ArrowIcon.vue_vue_type_script_setup_true_lang-OmVvq1co.js";const F={class:"relative pb-14"},P={class:"-mx-6"},V=["src"],E={class:"absolute h-28 w-full p-4 bottom-0 bg-white rounded-3xl z-10 border border-gray"},M={class:"flex gap-5 overflow-hidden"},q=["onClick"],A=["src"],G={class:"flex items-center justify-between py-3 px-6 mt-12 bg-gray rounded-xl text-gray-dark"},H={class:"flex items-center gap-5"},J={class:"text-[1.6rem] leading-[1.6rem] text-black font-medium"},K={class:"mt-8 text-[2rem] font-bold"},O={class:"mt-12 text-[1.6rem]"},Q={class:"inline line-clamp-5"},Z=B({__name:"product-page",setup(T){const l=c(0),{params:w}=z(),n=c(),m=c(),y=async o=>fetch(`https://sarafanweb.ru/api/products/${o}`).then(e=>e.json()),k=async o=>fetch(`https://sarafanweb.ru/api/businesses/${o}`).then(e=>e.json());return C(async()=>{const o=w.id||"",e=await y(parseInt(o)),i=await k(e.business);n.value=e,m.value=i}),(o,e)=>{const i=N("RouterLink");return d(),u(g,null,[a(x,{class:"pt-0 rounded-b-3xl"},{default:r(()=>{var p,f,h;return[s("div",F,[s("div",P,[a(b,{className:"bg-gray"},{default:r(()=>{var t;return[s("img",{src:`https://sarafanweb.ru/${(t=n.value)==null?void 0:t.photos[l.value]}`,class:"w-full h-full object-cover"},null,8,V)]}),_:1})]),s("div",E,[s("div",M,[(d(!0),u(g,null,S((p=n.value)==null?void 0:p.photos,(t,v)=>(d(),u("div",{class:D(I(L)("shrink-0 w-20 rounded-xl overflow-hidden",{"border border-primary":l.value===v})),key:t,onClick:()=>l.value=v},[a(b,{className:"shrink-0 bg-gray"},{default:r(()=>[s("img",{src:`https://sarafanweb.ru/${t}`,class:"w-full h-full object-cover",loading:"lazy"},null,8,A)]),_:2},1024)],10,q))),128))])])]),a(i,{to:{name:"BusinessPage",params:{id:1}}},{default:r(()=>{var t;return[s("div",G,[s("div",H,[e[1]||(e[1]=s("div",{class:"w-[32px] h-[32px] rounded-xl overflow-hidden"},[s("img",{class:"h-full w-full object-cover",width:"32",height:"32",src:j})],-1)),s("div",null,[s("div",J,_((t=m.value)==null?void 0:t.name),1),e[0]||(e[0]=s("div",{class:"text-[1.4rem]"},"Магазин",-1))])]),a(R,{size:24})])]}),_:1}),s("h1",K,_((f=n.value)==null?void 0:f.name),1),s("div",O,[s("p",Q,_((h=n.value)==null?void 0:h.description),1)])]}),_:1}),a($),a(x,{class:"rounded-t-3xl"})],64)}}});export{Z as default};
